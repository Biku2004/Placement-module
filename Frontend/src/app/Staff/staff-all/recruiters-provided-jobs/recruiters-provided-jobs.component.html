<!-- <div class="container mx-auto p-4 bg-gray-200 min-h-screen">
    <h1 class="text-3xl font-bold mb-6">Recruiter Provided Companies</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <div *ngFor="let company of companies" 
           (click)="selectCompany(company)" 
           class="company-card bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-lg transition">
        <img [src]="company.logo" [alt]="company.name + ' logo'" class="w-24 h-24 mx-auto mb-2 object-contain">
        <h2 class="text-xl font-semibold text-center">{{ company.name }}</h2>
      </div>
    </div>
  
    <div *ngIf="selectedCompany" class="mt-8 bg-gray-100 p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold mb-4">Job Postings for {{ selectedCompany.name }}</h2>
      <div class="grid grid-cols-1 gap-4">
        <div *ngFor="let job of selectedCompanyJobs" class="job-card p-4 border rounded">
          <h3 class="text-lg font-semibold">{{ job.jobRole }}</h3>
          <p><strong>Company:</strong> {{ job.companyName }}</p>
          <p><strong>Location:</strong> {{ job.jobLocation }}</p>
          <p><strong>CTC:</strong> {{ job.annualCTC }}</p>
          <p><strong>Status:</strong> {{ job.status || 'Pending' }}</p>
          <div class="mt-2 flex gap-2">
            <button (click)="approveJob(job)" 
                    [disabled]="job.status === 'Approved' || job.status === 'Sent'" 
                    class="bg-green-500 text-white py-1 px-3 rounded disabled:bg-gray-400">
              Approve
            </button>
            <button (click)="sendToStudents(job)" 
                    [disabled]="job.status !== 'Approved'" 
                    class="bg-blue-500 text-white py-1 px-3 rounded disabled:bg-gray-400">
              Send to Students
            </button>
          </div>
        </div>
      </div>
      <button (click)="selectedCompany = null" class="mt-4 text-blue-500">Back to Companies</button>
    </div>
  
    <div class="mt-8 bg-white p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold mb-4">All Job Postings</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full bg-white">
          <thead>
            <tr>
              <th class="py-2 px-4 border-b">Company Name</th>
              <th class="py-2 px-4 border-b">Job Role</th>
              <th class="py-2 px-4 border-b">Location</th>
              <th class="py-2 px-4 border-b">CTC</th>
              <th class="py-2 px-4 border-b">Status</th>
              <th class="py-2 px-4 border-b">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let job of allJobs">
              <td class="py-2 px-4 border-b">{{ job.companyName }}</td>
              <td class="py-2 px-4 border-b">{{ job.jobRole }}</td>
              <td class="py-2 px-4 border-b">{{ job.jobLocation }}</td>
              <td class="py-2 px-4 border-b">{{ job.annualCTC }}</td>
              <td class="py-2 px-4 border-b">{{ job.status || 'Pending' }}</td>
              <td class="py-2 px-4 border-b">
                <button (click)="approveJob(job)" 
                        [disabled]="job.status === 'Approved' || job.status === 'Sent'" 
                        class="text-green-500 mr-2 disabled:text-gray-400">
                  Approve
                </button>
                <button (click)="sendToStudents(job)" 
                        [disabled]="job.status !== 'Approved'" 
                        class="text-blue-500 disabled:text-gray-400">
                  Send
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div> -->


  <div class="container mx-auto p-4">
    <!-- Companies Section -->
    <h1 class="text-3xl font-bold mb-6">Staff Job Management</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      <div *ngFor="let company of companies" 
           (click)="selectCompany(company)" 
           class="company-card bg-white p-4 rounded-lg shadow cursor-pointer hover:shadow-lg transition">
        <img [src]="company.logo" [alt]="company.name + ' logo'" class="w-24 h-24 mx-auto mb-2 object-contain">
        <h2 class="text-xl font-semibold text-center">{{ company.name }}</h2>
      </div>
    </div>
  
    <!-- Selected Company Job Postings -->
    <div *ngIf="selectedCompany" class="mt-8 bg-white p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold mb-4">Job Postings for {{ selectedCompany.name }}</h2>
      <div class="grid grid-cols-1 gap-4">
        <div *ngFor="let job of selectedCompanyJobs" class="job-card p-4 border rounded">
          <h3 class="text-lg font-semibold">{{ job.jobRole }}</h3>
          <p><strong>Company:</strong> {{ job.companyName }}</p>
          <p><strong>Location:</strong> {{ job.jobLocation }}</p>
          <p><strong>CTC:</strong> {{ job.annualCTC }}</p>
          <p><strong>Status:</strong> {{ job.status }}</p>
          <div class="mt-2 flex gap-2">
            <button (click)="approveJob(job)" 
                    [disabled]="job.status !== 'PENDING'" 
                    class="bg-green-500 text-white py-1 px-3 rounded disabled:bg-gray-400">
              Approve
            </button>
            <button (click)="rejectJob(job)" 
                    [disabled]="job.status !== 'PENDING'" 
                    class="bg-red-500 text-white py-1 px-3 rounded disabled:bg-gray-400">
              Reject
            </button>
            <button (click)="sendToStudents(job)" 
                    [disabled]="job.status !== 'APPROVED'" 
                    class="bg-blue-500 text-white py-1 px-3 rounded disabled:bg-gray-400">
              Send to Students
            </button>
          </div>
        </div>
      </div>
      <button (click)="selectedCompany = null" class="mt-4 text-blue-500">Back to Companies</button>
    </div>
  
    <!-- All Job Postings Table -->
    <div class="mt-8 bg-white p-6 rounded-lg shadow">
      <h2 class="text-2xl font-bold mb-4">All Job Postings</h2>
      <div class="overflow-x-auto">
        <table class="min-w-full bg-white">
          <thead>
            <tr>
              <th class="py-2 px-4 border-b">Company Name</th>
              <th class="py-2 px-4 border-b">Job Role</th>
              <th class="py-2 px-4 border-b">Location</th>
              <th class="py-2 px-4 border-b">CTC</th>
              <th class="py-2 px-4 border-b">Status</th>
              <th class="py-2 px-4 border-b">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let job of allJobs">
              <td class="py-2 px-4 border-b">{{ job.companyName }}</td>
              <td class="py-2 px-4 border-b">{{ job.jobRole }}</td>
              <td class="py-2 px-4 border-b">{{ job.jobLocation }}</td>
              <td class="py-2 px-4 border-b">{{ job.annualCTC }}</td>
              <td class="py-2 px-4 border-b">{{ job.status }}</td>
              <td class="py-2 px-4 border-b">
                <button (click)="approveJob(job)" 
                        [disabled]="job.status !== 'PENDING'" 
                        class="text-green-500 mr-2 disabled:text-gray-400">
                  Approve
                </button>
                <button (click)="rejectJob(job)" 
                        [disabled]="job.status !== 'PENDING'" 
                        class="text-red-500 mr-2 disabled:text-gray-400">
                  Reject
                </button>
                <button (click)="sendToStudents(job)" 
                        [disabled]="job.status !== 'APPROVED'" 
                        class="text-blue-500 disabled:text-gray-400">
                  Send
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>